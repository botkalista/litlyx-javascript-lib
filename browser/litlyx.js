!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var s in i)("object"==typeof exports?exports:e)[s]=i[s]}}(self,(()=>(()=>{"use strict";var e={92:(e,t)=>{var i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i)return i;throw new Error("unable to locate global object")}();e.exports=t=i.fetch,i.fetch&&(t.default=i.fetch.bind(i)),t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response},408:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Lit=void 0;const s=i(246),o=i(185);if(t.Lit=new class{project_id;initialized=!1;settings;hooked=!1;init(e,t){if(this.initialized)return console.warn("Already initialized");this.initialized=!0,this.project_id=e,this.settings={autoPageVisit:!0,customSession:this.generateSession(),...t},(0,o.isClient)()&&(this.pushVisit(),this.hookHistory())}hookHistory(){if(this.hooked)return;this.hooked=!0;const e=this,t=history.pushState;history.pushState=function(i,s,o){t.apply(this,[i,s,o]),e.pushVisit()},addEventListener("popstate",(()=>e.pushVisit()))}generateSession(){return(Math.random()*Date.now()).toFixed(0)}getSession(){if(!this.settings)return"NO_SESSION";if(!(0,o.isClient)())return"SERVER_SESSION";const e=sessionStorage.getItem("lit-user-session");if(e)return e;const t=this.generateSession();return this.settings.customSession=t,this.updateSession(t),t}updateSession(e){(0,o.isClient)()&&sessionStorage.setItem("lit-user-session",e)}event(e,t){if(!this.initialized)return console.error("Not initialized");if(!this.project_id)return console.error("project_id is required");const i=t?.session||this.getSession(),o=t?.metadata?JSON.stringify(t.metadata):void 0;(0,s.sendRequest)(this.project_id,{name:e,session:i,metadata:o,type:1})}pushVisit(){if((0,o.isClient)())return this.initialized?this.project_id?this.settings?void this.pushPageVisit(location.hostname,location.pathname,document.referrer||"self",this.getSession(),innerWidth||0,innerHeight||0,navigator.userAgent||""):console.error("You must call init before pushing"):console.error("project_id is required"):console.error("Not initialized")}async pushPageVisit(e,t,i,o,n,r,a,d){return this.initialized?this.project_id?void await(0,s.sendRequest)(this.project_id,{website:e,page:t,referrer:i,session:o,screenWidth:n,screenHeight:r,userAgent:a,metadata:d,type:0}):console.error("project_id is required"):console.error("Not initialized")}},(0,o.isClient)()){const e=document.querySelector("script[data-project]");if(e){const i=e.getAttribute("data-project");i&&t.Lit.init(i)}}},246:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendRequest=void 0;const o=s(i(92));t.sendRequest=function(e,t){(0,o.default)("https://broker.litlyx.com/v1/metrics/push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,pid:e})}).catch((e=>{console.error("ERROR PUSHING",e)}))}},185:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isClient=void 0,t.isClient=function(){return"object"==typeof window}}},t={};return function i(s){var o=t[s];if(void 0!==o)return o.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,i),n.exports}(408)})()));