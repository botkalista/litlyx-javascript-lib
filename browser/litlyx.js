!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var s in i)("object"==typeof exports?exports:e)[s]=i[s]}}(self,(()=>{return e={408:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lit=void 0;const s=i(246),o=i(185);if(t.Lit=new class{project_id;initialized=!1;settings;hooked=!1;init(e,t){if(this.initialized)return console.warn("Already initialized");this.initialized=!0,this.project_id=e,this.settings={testMode:!1,...t},(0,o.isClient)()&&(this.pushVisit(),this.hookHistory(),(0,s.sendKeepAlive)(e,{website:location.hostname,userAgent:navigator.userAgent||"",instant:!0},this.settings?.testMode),setInterval((()=>{(0,s.sendKeepAlive)(e,{website:location.hostname,userAgent:navigator.userAgent||""},this.settings?.testMode)}),6e4))}hookHistory(){if(this.hooked)return;this.hooked=!0;const e=this,t=history.pushState;history.pushState=function(i,s,o){t.apply(this,[i,s,o]),e.pushVisit()},addEventListener("popstate",(()=>e.pushVisit()))}event(e,t){if(!this.initialized)return console.error("Not initialized");if(!this.project_id)return console.error("project_id is required");const i=t?.metadata?JSON.stringify(t.metadata):void 0;(0,s.sendRequest)(this.project_id,{name:e,metadata:i,type:1},this.settings?.testMode)}pushVisit(){if((0,o.isClient)())return this.initialized?this.project_id?this.settings?void this.pushPageVisit(location.hostname,location.pathname,document.referrer||"self",innerWidth||0,innerHeight||0,navigator.userAgent||""):console.error("You must call init before pushing"):console.error("project_id is required"):console.error("Not initialized")}async pushPageVisit(e,t,i,o,r,n,d){return this.initialized?this.project_id?void await(0,s.sendRequest)(this.project_id,{website:e,page:t,referrer:i,screenWidth:o,screenHeight:r,userAgent:n,metadata:d,type:0},this.settings?.testMode):console.error("project_id is required"):console.error("Not initialized")}},(0,o.isClient)()){const e=document.querySelector("script[data-project]");if(e){const i=e.getAttribute("data-project"),s=e.getAttribute("data-test-mode");i&&t.Lit.init(i,{testMode:"true"==s})}}},246:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendKeepAlive=t.sendRequest=void 0;const s=i(185),o="broker.litlyx.com";function r(e,t,o,r,n){try{const d=r?"https":"http";if((0,s.isClient)()){const i=`${d}://${e}:${o}${t}`;fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).catch((e=>{console.error("ERROR PUSHING",e)}))}else{const s=i(r?453:34).request({hostname:e,path:t,port:o,method:"POST",headers:{"Content-Type":"application/json"}});s.on("error",(e=>console.error("ERROR PUSHING",e)));const d=JSON.stringify(n);s.write(d),s.end()}}catch(e){console.error("ERROR PUSHING",e)}}t.sendRequest=function(e,t,i=!1){i?r("127.0.0.1","/v1/metrics/push",8088,!1,{...t,pid:e}):r(o,"/v1/metrics/push",443,!0,{...t,pid:e})},t.sendKeepAlive=function(e,t,i=!1){i?r("127.0.0.1","/v1/keep_alive",8088,!1,{...t,pid:e}):r(o,"/v1/keep_alive",443,!0,{...t,pid:e})}},185:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isClient=void 0,t.isClient=function(){return"object"==typeof window}},34:()=>{},453:()=>{}},t={},function i(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,i),r.exports}(408);var e,t}));