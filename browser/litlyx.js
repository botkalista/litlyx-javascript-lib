!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var o in i)("object"==typeof exports?exports:e)[o]=i[o]}}(self,(()=>{return e={408:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lit=void 0;const o=i(246),s=i(185);if(t.Lit=new class{project_id;initialized=!1;settings;hooked=!1;init(e,t){if(this.initialized)return console.warn("Already initialized");this.initialized=!0,this.project_id=e,this.settings={autoPageVisit:!0,testMode:!1,...t},(0,s.isClient)()&&(this.pushVisit(),this.hookHistory())}hookHistory(){if(this.hooked)return;this.hooked=!0;const e=this,t=history.pushState;history.pushState=function(i,o,s){t.apply(this,[i,o,s]),e.pushVisit()},addEventListener("popstate",(()=>e.pushVisit()))}event(e,t){if(!this.initialized)return console.error("Not initialized");if(!this.project_id)return console.error("project_id is required");const i=t?.metadata?JSON.stringify(t.metadata):void 0;(0,o.sendRequest)(this.project_id,{name:e,metadata:i,type:1},this.settings?.testMode)}pushVisit(){if((0,s.isClient)())return this.initialized?this.project_id?this.settings?void this.pushPageVisit(location.hostname,location.pathname,document.referrer||"self",innerWidth||0,innerHeight||0,navigator.userAgent||""):console.error("You must call init before pushing"):console.error("project_id is required"):console.error("Not initialized")}async pushPageVisit(e,t,i,s,r,n,d){return this.initialized?this.project_id?void await(0,o.sendRequest)(this.project_id,{website:e,page:t,referrer:i,screenWidth:s,screenHeight:r,userAgent:n,metadata:d,type:0},this.settings?.testMode):console.error("project_id is required"):console.error("Not initialized")}},(0,s.isClient)()){const e=document.querySelector("script[data-project]");if(e){const i=e.getAttribute("data-project"),o=e.getAttribute("data-test-mode");i&&t.Lit.init(i,{testMode:"true"==o})}}},246:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendRequest=void 0;const o=i(185),s="broker.litlyx.com",r="/v1/metrics/push";t.sendRequest=function(e,t,n=!1){const d=n?"http://127.0.0.1:8088":"https://"+s;try{if((0,o.isClient)())fetch(d+r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,pid:e})}).catch((e=>{console.error("ERROR PUSHING",e)}));else{const o=i(n?34:453).request({hostname:n?"127.0.0.1":s,path:r,port:n?8088:443,method:"POST",headers:{"Content-Type":"application/json"}});o.on("error",(e=>console.error("ERROR PUSHING",e)));const d=JSON.stringify({...t,pid:e});o.write(d),o.end()}}catch(e){console.error("ERROR PUSHING",e)}}},185:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isClient=void 0,t.isClient=function(){return"object"==typeof window}},34:()=>{},453:()=>{}},t={},function i(o){var s=t[o];if(void 0!==s)return s.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,i),r.exports}(408);var e,t}));